# Migration `20200407225319-update_attribute_master`

This migration has been generated by Khoa Le at 4/7/2020, 10:53:19 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE `next-js-cart`.`attribute_value` ;

ALTER TABLE `next-js-cart`.`attribute_value` ADD FOREIGN KEY (`attribute_id`) REFERENCES `next-js-cart`.`attribute`(`attribute_id`) ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200407224204-add_product_attribute..20200407225319-update_attribute_master
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "mysql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 model attribute {
   attribute_id Int    @default(autoincrement()) @id
@@ -15,8 +15,10 @@
 model attribute_value {
   attribute_id       Int
   attribute_value_id Int    @default(autoincrement()) @id
   value              String
+  attribute    attribute  @relation(fields: [attribute_id], references: [attribute_id])
+
   products product[]
   @@index([attribute_id], name: "idx_attribute_value_attribute_id")
 }
```


